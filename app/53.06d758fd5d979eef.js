"use strict";(self.webpackChunkng14=self.webpackChunkng14||[]).push([[53],{9053:(b,c,a)=>{a.r(c),a.d(c,{CalculatorModule:()=>m});var u=a(6895),l=a(8416),p=a(1135),t=a(1571),_=a(1188),o=(()=>{return(i=o||(o={}))[i.init=0]="init",i[i.firstFigure=1]="firstFigure",i[i.secondFigure=2]="secondFigure",i[i.result=3]="result",o;var i})();let d=(()=>{class i{constructor(e){this.storage=e,this._display="",this._currentState=o.init,this._firstFugure=0,this._secondFigure=0,this._operator="",this._result=0,this.display$=new p.X(this.display),this._isOperator=n=>"+"===n||"-"===n||"*"===n||"/"===n}get display(){return this._display}saveStorage(e){this.storage.saveStorage({index:e,display:this._display,firstFigure:this._firstFugure,secondFigure:this._secondFigure,operator:this._operator,result:this._result,currentState:this._currentState})}loadStorage(e){let n=this.storage.store.filter(r=>r.index===e);if(n.length>0){let r=n[0];console.log(r),this._display=r.display,this._firstFugure=r.firstFigure,this._secondFigure=r.secondFigure,this._operator=r.operator,this._result=r.result,this._currentState=r.currentState,this.display$.next(this._display)}}handleNumber(e){switch(this._currentState){case o.init:this._firstFugure=e,this._currentState=o.firstFigure,this._display=e.toString();break;case o.firstFigure:this._firstFugure=10*this._firstFugure+e,this._display+=e.toString();break;case o.secondFigure:this._secondFigure=10*this._secondFigure+e,this._display+=e.toString();break;case o.result:this.initCalculator(),this._firstFugure=e,this._currentState=o.firstFigure,this._display=e.toString()}this.display$.next(this._display)}initCalculator(){this._display="",this._currentState=o.init,this._firstFugure=0,this._secondFigure=0,this._operator="",this._result=0,this.display$.next(this._display)}handleString(e){switch(this._currentState){case o.init:break;case o.firstFigure:this._isOperator(e)&&(this._operator=e,this._currentState=o.secondFigure,this._display+=e);break;case o.secondFigure:"="===e&&(this._result=this._calculate(),this._currentState=o.result,this._display+=e+this._result);break;case o.result:if(this._isOperator(e)){const n=this._result;this.initCalculator(),this._firstFugure=n,this._operator=e,this._currentState=o.secondFigure,this._display=this._firstFugure.toString()+this._operator}}this.display$.next(this._display)}_calculate(){switch(this._operator){case"+":return this._firstFugure+this._secondFigure;case"-":return this._firstFugure-this._secondFigure;case"*":return this._firstFugure*this._secondFigure;case"/":return this._firstFugure/this._secondFigure;default:return 0}}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(_.V))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})(),h=(()=>{class i{constructor(){this.content=""}ngOnInit(){}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-display"]],inputs:{content:"content"},decls:2,vars:1,consts:[["id","input",1,"input"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0),t._uU(1),t.qZA()),2&e&&(t.xp6(1),t.Oqu(n.content))},styles:[".input[_ngcontent-%COMP%]{border:1px solid #ddd;border-radius:1px;height:60px;padding-right:15px;padding-top:10px;text-align:right;margin-right:6px;font-size:2.5rem;overflow-x:auto;transition:all .2s ease-in-out}.input[_ngcontent-%COMP%]:hover{border:1px solid #bbb;box-shadow:inset 0 1px 4px #0003}"]}),i})(),g=(()=>{class i{constructor(){this.onButtonPressed=new t.vpe}ngOnInit(){}handleClick(e){this.onButtonPressed.emit(e)}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-keyboard"]],outputs:{onButtonPressed:"onButtonPressed"},decls:41,vars:0,consts:[[1,"buttons"],[1,"operators"],[3,"click"],[1,"leftPanel"],[1,"numbers"],["id","clear",3,"click"],["id","result",1,"equal",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2),t.NdJ("click",function(){return n.handleClick("+")}),t._uU(3,"+"),t.qZA(),t.TgZ(4,"div",2),t.NdJ("click",function(){return n.handleClick("-")}),t._uU(5,"-"),t.qZA(),t.TgZ(6,"div",2),t.NdJ("click",function(){return n.handleClick("*")}),t._uU(7,"\xd7"),t.qZA(),t.TgZ(8,"div",2),t.NdJ("click",function(){return n.handleClick("/")}),t._uU(9,"\xf7"),t.qZA()(),t.TgZ(10,"div",3)(11,"div",4)(12,"div",2),t.NdJ("click",function(){return n.handleClick(7)}),t._uU(13,"7"),t.qZA(),t.TgZ(14,"div",2),t.NdJ("click",function(){return n.handleClick(8)}),t._uU(15,"8"),t.qZA(),t.TgZ(16,"div",2),t.NdJ("click",function(){return n.handleClick(9)}),t._uU(17,"9"),t.qZA()(),t.TgZ(18,"div",4)(19,"div",2),t.NdJ("click",function(){return n.handleClick(4)}),t._uU(20,"4"),t.qZA(),t.TgZ(21,"div",2),t.NdJ("click",function(){return n.handleClick(5)}),t._uU(22,"5"),t.qZA(),t.TgZ(23,"div",2),t.NdJ("click",function(){return n.handleClick(6)}),t._uU(24,"6"),t.qZA()(),t.TgZ(25,"div",4)(26,"div",2),t.NdJ("click",function(){return n.handleClick(1)}),t._uU(27,"1"),t.qZA(),t.TgZ(28,"div",2),t.NdJ("click",function(){return n.handleClick(2)}),t._uU(29,"2"),t.qZA(),t.TgZ(30,"div",2),t.NdJ("click",function(){return n.handleClick(3)}),t._uU(31,"3"),t.qZA()(),t.TgZ(32,"div",4)(33,"div",2),t.NdJ("click",function(){return n.handleClick(".")}),t._uU(34,"."),t.qZA(),t.TgZ(35,"div",2),t.NdJ("click",function(){return n.handleClick(0)}),t._uU(36,"0"),t.qZA(),t.TgZ(37,"div",5),t.NdJ("click",function(){return n.handleClick("C")}),t._uU(38,"C"),t.qZA()()(),t.TgZ(39,"div",6),t.NdJ("click",function(){return n.handleClick("=")}),t._uU(40,"="),t.qZA()())},styles:[".operators[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;border:1px solid #bbb;border-radius:1px;width:80px;text-align:center;padding:10px;margin:20px 4px 10px 0;cursor:pointer;background-color:#ddd;transition:border-color .2s ease-in-out,background-color .2s,box-shadow .2s}.operators[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#ddd;box-shadow:0 1px 4px #0003;border-color:#aaa}.operators[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:active{font-weight:700}.leftPanel[_ngcontent-%COMP%]{display:inline-block}.numbers[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:inline-block;border:1px solid #ddd;border-radius:1px;width:80px;text-align:center;padding:10px;margin:10px 4px 10px 0;cursor:pointer;background-color:#f9f9f9;transition:border-color .2s ease-in-out,background-color .2s,box-shadow .2s}.numbers[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#f1f1f1;box-shadow:0 1px 4px #0003;border-color:#bbb}.numbers[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:active{font-weight:700}div.equal[_ngcontent-%COMP%]{display:inline-block;border:1px solid #3079ED;border-radius:1px;width:17%;text-align:center;padding:127px 10px;margin:10px 6px 10px 0;vertical-align:top;cursor:pointer;color:#fff;background-color:#4d90fe;transition:all .2s ease-in-out}div.equal[_ngcontent-%COMP%]:hover{background-color:#307cf9;box-shadow:0 1px 4px #0003;border-color:#1857bb}div.equal[_ngcontent-%COMP%]:active{font-weight:700}"]}),i})();const C=[{path:"",component:(()=>{class i{constructor(e,n,r){this.service=e,this.route=n,this.router=r,this.index=0,this.display="",this.myId=null}ngOnInit(){this.service.display$.subscribe(e=>this.display=e),this.display=this.service.display,this.service.loadStorage(this.index),this.myId=this.route.snapshot.paramMap.get("id"),console.log("CalculatorComponent.ngOnInit() myId = "+this.myId)}ngOnDestroy(){console.log("CalculatorComponent.ngOnDestroy()"),this.service.saveStorage(this.index)}handleButton(){this.router.navigate(["/heroes",{id:this.myId}])}handleClick(e){"number"==typeof e?this.service.handleNumber(e):"string"==typeof e&&("C"===e?this.service.initCalculator():this.service.handleString(e))}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(d),t.Y36(l.gz),t.Y36(l.F0))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-calculator"]],inputs:{index:"index"},features:[t._Bn([d])],decls:4,vars:1,consts:[[1,"canvas"],[1,"calculator"],[3,"content"],[3,"onButtonPressed"]],template:function(e,n){1&e&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"app-display",2),t.TgZ(3,"app-keyboard",3),t.NdJ("onButtonPressed",function(y){return n.handleClick(y)}),t.qZA()()()),2&e&&(t.xp6(2),t.Q6J("content",n.display))},dependencies:[h,g],styles:[".canvas[_ngcontent-%COMP%]{width:500px;margin:4% auto;font-family:Source Sans Pro,sans-serif;letter-spacing:5px;font-size:1.8rem;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.calculator[_ngcontent-%COMP%]{padding:20px;box-shadow:0 1px 4px #0003;border-radius:1px}"]}),i})()}];let f=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[l.Bz.forChild(C),l.Bz]}),i})(),m=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[u.ez,f]}),i})()}}]);