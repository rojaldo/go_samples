"use strict";(self.webpackChunkng14=self.webpackChunkng14||[]).push([[811],{9811:(Z,h,c)=>{c.r(h),c.d(h,{TrivialModule:()=>b});var d=c(6895),u=c(8416),e=c(1571),p=c(1135);class g{constructor(r){this._category="",this._type="",this._difficulty="",this._question="",this._correctAnswer="",this._answers=[],this._answered=!1,this._userAnswer=void 0,this._rightAnswered=!1,this._category=r.category,this._type=r.type,this._difficulty=r.difficulty,this._question=r.question,this._correctAnswer=r.correct_answer,this._answers=r.incorrect_answers,this._answers.push(this._correctAnswer),this.shuffle()}shuffle(){for(let r=this._answers.length-1;r>0;r--){const t=Math.floor(Math.random()*(r+1));[this._answers[r],this._answers[t]]=[this._answers[t],this._answers[r]]}}get category(){return this._category}get type(){return this._type}get difficulty(){return this._difficulty}get question(){return this._question}get correctAnswer(){return this._correctAnswer}get answers(){return this._answers}get answered(){return this._answered}set answered(r){this._answered=r}get userAnswer(){return this._userAnswer}set userAnswer(r){this._userAnswer=r}get rightAnswered(){return this._rightAnswered}set rightAnswered(r){this._rightAnswered=r}}var f=c(529);let _=(()=>{class s{constructor(t){this.http=t,this._cards=[],this.cards$=new p.X(this.cards),this._score=0,this.score$=new p.X(this.score)}get score(){return this._score}get cards(){return[...this._cards]}getQuestions(t,n,i,a){let o="https://opentdb.com/api.php?";o+=t?`amount=${t}`:"amount=10",n&&(o+=`&category=${n}`),i&&(o+=`&difficulty=${i}`),a&&(o+=`&type=${a}`);const x={next:l=>{l.results.forEach(M=>{this._cards.push(new g(M))}),this.cards$.next(this.cards)},error:l=>console.error("Observer got an error: "+l),complete:()=>console.log("Complete")};this.http.get(o).subscribe(x)}addScore(t){this._score+=t,this.score$.next(this.score)}}return s.\u0275fac=function(t){return new(t||s)(e.LFG(f.eN))},s.\u0275prov=e.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function w(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"button",7),e.NdJ("click",function(){const a=e.CHM(t).$implicit,o=e.oxw(2);return e.KtG(o.handleClick(a))}),e.qZA()}if(2&s){const t=r.$implicit,n=r.index,i=e.oxw(2);e.Tol(i.classes[n]),e.Q6J("disabled",i.card.answered)("innerHTML",t,e.oJD)}}function m(s,r){if(1&s&&(e.TgZ(0,"div",3),e._UZ(1,"h5",4),e.TgZ(2,"div",5),e.YNc(3,w,1,4,"button",6),e.qZA()()),2&s){const t=e.oxw();e.xp6(1),e.Q6J("innerHTML",t.card.question,e.oJD),e.xp6(2),e.Q6J("ngForOf",t.card.answers)}}function v(s,r){1&s&&(e.TgZ(0,"h1"),e._uU(1,"no data"),e.qZA())}let T=(()=>{class s{constructor(){this.onRightAnswered=new e.vpe,this.classes=[]}ngOnInit(){this.classes=this.card.answers.map(t=>this.getClass(t))}handleClick(t){this.card.answered=!0,this.card.userAnswer=t,this.card.rightAnswered=this.card.correctAnswer===t,this.onRightAnswered.emit(this.card.rightAnswered);for(let n=0;n<this.classes.length;n++)this.classes[n]=this.getClass(this.card.answers[n])}getClass(t){return console.log("getClass"),this.card.answered?t===this.card.correctAnswer?"btn btn-success":t===this.card.userAnswer?"btn btn-danger":"btn btn-secondary":"btn btn-primary"}}return s.\u0275fac=function(t){return new(t||s)},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-card"]],inputs:{card:"card"},outputs:{onRightAnswered:"onRightAnswered"},decls:4,vars:2,consts:[[1,"card","h-100"],["class","card-body",4,"ngIf","ngIfElse"],["elseTemplate",""],[1,"card-body"],[1,"card-title",3,"innerHTML"],[1,"d-grid","gap-1"],["type","button",3,"class","disabled","innerHTML","click",4,"ngFor","ngForOf"],["type","button",3,"disabled","innerHTML","click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0),e.YNc(1,m,4,2,"div",1),e.YNc(2,v,2,0,"ng-template",null,2,e.W1O),e.qZA()),2&t){const i=e.MAs(3);e.xp6(1),e.Q6J("ngIf",n.card)("ngIfElse",i)}},dependencies:[d.sg,d.O5]}),s})();function A(s,r){if(1&s){const t=e.EpF();e.TgZ(0,"div",4)(1,"app-card",5),e.NdJ("onRightAnswered",function(i){e.CHM(t);const a=e.oxw();return e.KtG(a.handleResponse(i))}),e.qZA()()}if(2&s){const t=r.$implicit;e.xp6(1),e.Q6J("card",t)}}const C=[{path:"",component:(()=>{class s{constructor(t){this.service=t,this.cards=[],this.score=0}ngOnInit(){this.service.cards$.subscribe(t=>{this.cards=t}),this.service.score$.subscribe(t=>{this.score=t}),this.service.getQuestions()}handleResponse(t){this.service.addScore(t?2:-1)}}return s.\u0275fac=function(t){return new(t||s)(e.Y36(_))},s.\u0275cmp=e.Xpm({type:s,selectors:[["app-trivial"]],decls:7,vars:2,consts:[[1,"container"],[1,"badge","badge-primary"],[1,"row"],["class","col-sm-12 col-md-6 col-lg-4 mt-4",4,"ngFor","ngForOf"],[1,"col-sm-12","col-md-6","col-lg-4","mt-4"],[3,"card","onRightAnswered"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"h1"),e._uU(2),e.TgZ(3,"span",1),e._uU(4,"New"),e.qZA()(),e.TgZ(5,"div",2),e.YNc(6,A,2,1,"div",3),e.qZA()()),2&t&&(e.xp6(2),e.Oqu(n.score),e.xp6(4),e.Q6J("ngForOf",n.cards))},dependencies:[d.sg,T]}),s})()}];let y=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[u.Bz.forChild(C),u.Bz]}),s})(),b=(()=>{class s{}return s.\u0275fac=function(t){return new(t||s)},s.\u0275mod=e.oAB({type:s}),s.\u0275inj=e.cJS({imports:[d.ez,y]}),s})()}}]);